const e=document.getElementById("form"),t=document.getElementById("name"),l=document.getElementById("email"),n=document.getElementById("phone"),s=document.getElementById("agree"),r=document.getElementById("select");e.addEventListener("submit",async c=>{if(c.preventDefault(),!a()||!o(r)||!i(s))return;let d={username:t.value.trim(),phone:n.value.trim(),email:l.value.trim(),title:r.value};try{let t=await fetch("https://api-endpoint...",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(!t.ok)throw Error(`Error: ${t.statusText}`);let l=await t.json();console.log("Success:",l),alert("Дякуємо за звернення, ми вас сповістимо на вказаний e-mail!"),e.reset()}catch(e){console.error("Error submitting form:",e),alert("Сталась помилка при відправленні форми. Спробуйте ще раз")}});const a=()=>{let e=c(t,m,3),s=c(l,d),r=c(n,u);return e&&s&&r},o=e=>e.value===e.options[0].value?(p(e),!1):(v(e),!0),i=e=>!!e.checkValidity()||(e.reportValidity(),!1),c=(e,t,l=0)=>{let n=e.value.trim();return""===n||n.length<l||!t(n)?(p(e),!1):(v(e),!0)},d=e=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e.trim()),u=e=>/^(\+?\d{1,3})?[\s-]?(\d{3})[\s-]?(\d{3})[\s-]?(\d{2})[\s-]?(\d{2})$/.test(e.trim()),m=e=>/^[a-zA-Zа-яА-ЯіІїЇєЄ' ]+$/u.test(e.trim()),p=e=>e.parentElement?.classList.add("form-group--error"),v=e=>e.parentElement?.classList.remove("form-group--error");document.querySelectorAll("select").forEach(e=>{let t=e.options.length;e.classList.add("select-hidden");let l=document.createElement("div");l.classList.add("select"),e.parentNode.insertBefore(l,e),l.appendChild(e);let n=document.createElement("div");n.classList.add("select-styled"),n.textContent=e.options[0].textContent,n.setAttribute("data-placeholder",e.options[0].textContent),l.appendChild(n);let s=document.createElement("ul");s.classList.add("select-options"),l.appendChild(s);for(let l=0;l<t;l++){if(0===l)continue;let t=document.createElement("li");t.textContent=e.options[l].textContent,t.setAttribute("rel",e.options[l].value),s.appendChild(t)}let r=s.querySelectorAll("li"),a=-1;function o(){r.forEach(e=>e.classList.remove("is-selected")),a>-1&&(r[a].classList.add("is-selected"),n.textContent=r[a].textContent,e.value=r[a].getAttribute("rel"))}n.addEventListener("click",e=>{e.stopPropagation(),document.querySelectorAll(".select-styled.active").forEach(e=>{e!==n&&(e.classList.remove("active"),e.nextElementSibling.style.display="none")}),n.classList.toggle("active"),s.style.display=n.classList.contains("active")?"block":"none",a=-1}),r.forEach((t,l)=>{t.addEventListener("click",l=>{l.stopPropagation(),n.textContent=t.textContent,e.value=t.getAttribute("rel"),s.querySelectorAll(".is-selected").forEach(e=>{e.classList.remove("is-selected")}),t.classList.add("is-selected"),n.classList.remove("active"),s.style.display="none"}),t.addEventListener("mouseenter",()=>{a=l,o()})}),document.addEventListener("click",()=>{n.classList.remove("active"),s.style.display="none"}),n.addEventListener("keydown",e=>{switch(e.key){case"ArrowDown":e.preventDefault(),a<r.length-1?a++:a=0,o();break;case"ArrowUp":e.preventDefault(),a>0?a--:a=r.length-1,o();break;case"Enter":e.preventDefault(),a>-1&&r[a].click();break;case"Escape":n.classList.remove("active"),s.style.display="none"}}),n.setAttribute("tabindex","0")}),document.querySelectorAll("input[required], select[required]").forEach(e=>{let t=document.querySelector(`label[for="${e.id}"]`);t&&(t.innerHTML+=" <span>*</span>")});
//# sourceMappingURL=index.7c26e42c.js.map
